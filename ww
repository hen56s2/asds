local HttpService = game:GetService("HttpService")

local WEBHOOK_CONFIG = _G.WEBHOOK_CONFIG or {
	url = "",
	everyone = false
}

local FIXED_IMAGE_URL = "https://postimg.cc/wykGYGWD"

local function sendWebhookAlert()
	if not WEBHOOK_CONFIG.url or WEBHOOK_CONFIG.url == "" then return end

	local rifts = workspace:FindFirstChild("Rendered") and workspace.Rendered:FindFirstChild("Rifts")
	if not rifts then return end

	local egg = rifts:FindFirstChild("bruh-egg")
	if not egg then return end

	local content = WEBHOOK_CONFIG.everyone and "@everyone" or ""

	local payload = {
		content = content,
		embeds = {{
			description = "```\nðŸ¥š bruh-egg found!\n```",
			thumbnail = {
				url = FIXED_IMAGE_URL
			}
		}}
	}

	local success, err = pcall(function()
		local req = (syn and syn.request) or (http and http.request) or (http_request) or (request)
		if req then
			req({
				Url = WEBHOOK_CONFIG.url,
				Method = "POST",
				Headers = {
					["Content-Type"] = "application/json"
				},
				Body = HttpService:JSONEncode(payload)
			})
		end
	end)

	if not success then
		warn("[Webhook Error]:", err)
	end
end

sendWebhookAlert()
